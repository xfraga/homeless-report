// Multi-language translations for Homeless Report System
const translations = {
    en: {
        appTitle: 'Homeless Report System',
        reportForm: 'Report a Homeless Person',
        locationPrompt: 'Click on the map or enter coordinates',
        latitude: 'Latitude',
        longitude: 'Longitude',
        getLocation: 'Get My Location',
        healthStatus: 'Health Status',
        selectStatus: 'Select status...',
        appearsHealthy: 'Appears Healthy',
        minorConcern: 'Minor Concern',
        urgentMedical: 'Urgent Medical Attention',
        unknown: 'Unknown',
        urgencyLevel: 'Urgency Level',
        selectUrgency: 'Select urgency...',
        low: 'Low - Information Only',
        medium: 'Medium - Assistance Needed',
        high: 'High - Urgent Attention Required',
        additionalInfo: 'Additional Information',
        additionalInfoPlaceholder: 'Describe the situation, number of people, any special circumstances...',
        submitReport: 'Submit Report',
        reportsList: 'Recent Reports',
        reportId: 'Report ID',
        location: 'Location',
        status: 'Status',
        urgency: 'Urgency',
        timestamp: 'Timestamp',
        noReports: 'No reports yet',
        reportSubmitted: 'Report submitted successfully!',
        errorLocation: 'Unable to get location',
        errorSubmit: 'Error submitting report',
        languageSelector: 'Language'
    },
    es: {
        appTitle: 'Sistema de Informes de Personas sin Hogar',
        reportForm: 'Informar sobre una Persona sin Hogar',
        locationPrompt: 'Haga clic en el mapa o ingrese las coordenadas',
        latitude: 'Latitud',
        longitude: 'Longitud',
        getLocation: 'Obtener Mi Ubicación',
        healthStatus: 'Estado de Salud',
        selectStatus: 'Seleccionar estado...',
        appearsHealthy: 'Parece Saludable',
        minorConcern: 'Preocupación Menor',
        urgentMedical: 'Atención Médica Urgente',
        unknown: 'Desconocido',
        urgencyLevel: 'Nivel de Urgencia',
        selectUrgency: 'Seleccionar urgencia...',
        low: 'Bajo - Solo Información',
        medium: 'Medio - Se Necesita Asistencia',
        high: 'Alto - Se Requiere Atención Urgente',
        additionalInfo: 'Información Adicional',
        additionalInfoPlaceholder: 'Describa la situación, número de personas, cualquier circunstancia especial...',
        submitReport: 'Enviar Informe',
        reportsList: 'Informes Recientes',
        reportId: 'ID del Informe',
        location: 'Ubicación',
        status: 'Estado',
        urgency: 'Urgencia',
        timestamp: 'Marca de Tiempo',
        noReports: 'Aún no hay informes',
        reportSubmitted: '¡Informe enviado con éxito!',
        errorLocation: 'No se pudo obtener la ubicación',
        errorSubmit: 'Error al enviar el informe',
        languageSelector: 'Idioma'
    },
    fr: {
        appTitle: 'Système de Signalement des Sans-Abri',
        reportForm: 'Signaler une Personne Sans-Abri',
        locationPrompt: 'Cliquez sur la carte ou entrez les coordonnées',
        latitude: 'Latitude',
        longitude: 'Longitude',
        getLocation: 'Obtenir Ma Position',
        healthStatus: 'État de Santé',
        selectStatus: 'Sélectionner le statut...',
        appearsHealthy: 'Paraît en Bonne Santé',
        minorConcern: 'Préoccupation Mineure',
        urgentMedical: 'Attention Médicale Urgente',
        unknown: 'Inconnu',
        urgencyLevel: "Niveau d'Urgence",
        selectUrgency: "Sélectionner l'urgence...",
        low: 'Faible - Information Seulement',
        medium: 'Moyen - Assistance Nécessaire',
        high: 'Haut - Attention Urgente Requise',
        additionalInfo: 'Informations Supplémentaires',
        additionalInfoPlaceholder: 'Décrivez la situation, le nombre de personnes, toute circonstance particulière...',
        submitReport: 'Soumettre le Signalement',
        reportsList: 'Signalements Récents',
        reportId: 'ID du Signalement',
        location: 'Emplacement',
        status: 'Statut',
        urgency: 'Urgence',
        timestamp: 'Horodatage',
        noReports: 'Aucun signalement pour le moment',
        reportSubmitted: 'Signalement soumis avec succès!',
        errorLocation: 'Impossible d\'obtenir la position',
        errorSubmit: 'Erreur lors de la soumission du signalement',
        languageSelector: 'Langue'
    },
    de: {
        appTitle: 'Obdachlosen-Meldesystem',
        reportForm: 'Obdachlose Person Melden',
        locationPrompt: 'Klicken Sie auf die Karte oder geben Sie Koordinaten ein',
        latitude: 'Breitengrad',
        longitude: 'Längengrad',
        getLocation: 'Meinen Standort Abrufen',
        healthStatus: 'Gesundheitszustand',
        selectStatus: 'Status auswählen...',
        appearsHealthy: 'Erscheint Gesund',
        minorConcern: 'Geringfügige Bedenken',
        urgentMedical: 'Dringende Medizinische Versorgung',
        unknown: 'Unbekannt',
        urgencyLevel: 'Dringlichkeitsstufe',
        selectUrgency: 'Dringlichkeit auswählen...',
        low: 'Niedrig - Nur Information',
        medium: 'Mittel - Hilfe Benötigt',
        high: 'Hoch - Dringende Aufmerksamkeit Erforderlich',
        additionalInfo: 'Zusätzliche Informationen',
        additionalInfoPlaceholder: 'Beschreiben Sie die Situation, Anzahl der Personen, besondere Umstände...',
        submitReport: 'Meldung Absenden',
        reportsList: 'Aktuelle Meldungen',
        reportId: 'Meldungs-ID',
        location: 'Standort',
        status: 'Status',
        urgency: 'Dringlichkeit',
        timestamp: 'Zeitstempel',
        noReports: 'Noch keine Meldungen',
        reportSubmitted: 'Meldung erfolgreich übermittelt!',
        errorLocation: 'Standort konnte nicht abgerufen werden',
        errorSubmit: 'Fehler beim Übermitteln der Meldung',
        languageSelector: 'Sprache'
    },
    it: {
        appTitle: 'Sistema di Segnalazione Senzatetto',
        reportForm: 'Segnala una Persona Senzatetto',
        locationPrompt: 'Clicca sulla mappa o inserisci le coordinate',
        latitude: 'Latitudine',
        longitude: 'Longitudine',
        getLocation: 'Ottieni la Mia Posizione',
        healthStatus: 'Stato di Salute',
        selectStatus: 'Seleziona stato...',
        appearsHealthy: 'Sembra in Buona Salute',
        minorConcern: 'Preoccupazione Minore',
        urgentMedical: 'Attenzione Medica Urgente',
        unknown: 'Sconosciuto',
        urgencyLevel: "Livello di Urgenza",
        selectUrgency: "Seleziona urgenza...",
        low: 'Basso - Solo Informazioni',
        medium: 'Medio - Assistenza Necessaria',
        high: 'Alto - Attenzione Urgente Richiesta',
        additionalInfo: 'Informazioni Aggiuntive',
        additionalInfoPlaceholder: 'Descrivi la situazione, numero di persone, eventuali circostanze speciali...',
        submitReport: 'Invia Segnalazione',
        reportsList: 'Segnalazioni Recenti',
        reportId: 'ID Segnalazione',
        location: 'Posizione',
        status: 'Stato',
        urgency: 'Urgenza',
        timestamp: 'Timestamp',
        noReports: 'Nessuna segnalazione ancora',
        reportSubmitted: 'Segnalazione inviata con successo!',
        errorLocation: 'Impossibile ottenere la posizione',
        errorSubmit: "Errore nell'invio della segnalazione",
        languageSelector: 'Lingua'
    },
    pt: {
        appTitle: 'Sistema de Relatório de Moradores de Rua',
        reportForm: 'Relatar uma Pessoa em Situação de Rua',
        locationPrompt: 'Clique no mapa ou insira as coordenadas',
        latitude: 'Latitude',
        longitude: 'Longitude',
        getLocation: 'Obter Minha Localização',
        healthStatus: 'Estado de Saúde',
        selectStatus: 'Selecionar estado...',
        appearsHealthy: 'Parece Saudável',
        minorConcern: 'Preocupação Menor',
        urgentMedical: 'Atenção Médica Urgente',
        unknown: 'Desconhecido',
        urgencyLevel: 'Nível de Urgência',
        selectUrgency: 'Selecionar urgência...',
        low: 'Baixo - Apenas Informação',
        medium: 'Médio - Assistência Necessária',
        high: 'Alto - Atenção Urgente Necessária',
        additionalInfo: 'Informações Adicionais',
        additionalInfoPlaceholder: 'Descreva a situação, número de pessoas, quaisquer circunstâncias especiais...',
        submitReport: 'Enviar Relatório',
        reportsList: 'Relatórios Recentes',
        reportId: 'ID do Relatório',
        location: 'Localização',
        status: 'Estado',
        urgency: 'Urgência',
        timestamp: 'Timestamp',
        noReports: 'Ainda não há relatórios',
        reportSubmitted: 'Relatório enviado com sucesso!',
        errorLocation: 'Não foi possível obter a localização',
        errorSubmit: 'Erro ao enviar o relatório',
        languageSelector: 'Idioma'
    }
};

// Get current language from localStorage or default to English
let currentLanguage = localStorage.getItem('language') || 'en';

// Function to get translated text
function t(key) {
    return translations[currentLanguage][key] || translations['en'][key] || key;
}

// Function to change language
function changeLanguage(lang) {
    if (translations[lang]) {
        currentLanguage = lang;
        localStorage.setItem('language', lang);
        updatePageTranslations();
    }
}

// Function to update all page elements with translations
function updatePageTranslations() {
    // Update elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = t(key);
        } else {
            element.textContent = t(key);
        }
    });
    
    // Update select options
    document.querySelectorAll('[data-i18n-value]').forEach(element => {
        const key = element.getAttribute('data-i18n-value');
        element.textContent = t(key);
    });
}